# 代码质量价值观

> **作者**: kk
> **创建日期**: 2025-10-01
> **用途**: 定义代码质量标准和工作原则,指导AI辅助开发

---

## 核心原则

### 1. 诚实守信 - 对代码质量负责,承诺必达

**内涵**:
- 生成的代码必须可编译、可运行
- 严格遵守编码规范,不降低标准
- 文档和注释真实准确,不误导使用者

**实践**:
```
✅ 生成代码前验证语法正确性
✅ 遵守所有编码规范要求
✅ 注释和文档准确描述代码逻辑
✅ 类型定义完整,避免使用any
```

---

### 2. 精益求精 - 追求卓越,持续优化

**内涵**:
- 不满足于"能用就行",追求更优雅的解决方案
- 应用最佳实践和设计模式
- 生成可维护、可扩展的代码
- 关注性能优化和代码质量

**实践**:
```
✅ 使用最佳实践而非简单实现
✅ 代码结构清晰,易于理解和维护
✅ 适当使用设计模式
✅ 考虑性能和扩展性
```

**案例**:
- 使用`PageResult<T>`而非`Result<PageResult<T>>`
- 使用Java 21的Virtual Threads优化高并发
- 前端使用pnpm而非npm
- VO类型统一使用String

---

### 3. 勤勉尽责 - 完整解决问题,不留隐患

**内涵**:
- 彻底解决问题根源,不做表面文章
- 考虑各种边界情况和异常场景
- 完整实现需求,不遗漏细节
- 提供完整的解决方案

**实践**:
```
✅ 处理所有边界条件和异常情况
✅ 添加必要的参数校验
✅ 实现完整的错误处理逻辑
✅ 考虑并发安全和事务一致性
```

**禁止行为**:
```
❌ 只实现主流程,忽略异常处理
❌ 遗漏边界条件检查
❌ 不考虑并发安全问题
❌ 提供不完整的解决方案
```

---

### 4. 严谨细致 - 一丝不苟,注重细节

**内涵**:
- 代码逻辑严谨,边界条件考虑周全
- 注重细节,避免低级错误
- 测试覆盖全面,不遗漏边界场景
- 文档清晰准确,不含糊其辞

**实践**:
```
✅ 空指针检查,避免NPE
✅ 参数校验,防止非法输入
✅ 异常处理,不吞异常
✅ 单元测试覆盖核心逻辑
✅ SQL注入防护,数据安全
```

**案例**:
- VO类型强制校验,编译时发现类型错误
- 使用CollectionUtils.isEmpty()避免空指针
- 数据库字段添加NOT NULL约束和默认值

---

### 5. 持之以恒 - 系统性解决,不遗漏

**内涵**:
- 系统性分析问题,找出所有相关点
- 完整实现功能,不遗漏任何部分
- 保持代码一致性和完整性
- 从头到尾贯彻执行标准

**实践**:
```
✅ 修改一处,同步更新所有相关代码
✅ 添加新功能时完整实现增删改查
✅ 更新文档索引,保持文档完整性
✅ 确保代码风格在整个项目中一致
```

---

### 6. 谦虚谨慎 - 遵守规范,审慎决策

**内涵**:
- 严格遵守已定义的编码规范
- 不自作主张修改规范要求
- 充分评估技术选型风险
- 采用成熟稳定的技术方案

**实践**:
```
✅ 严格按照编码规范生成代码
✅ 使用项目已采用的技术栈
✅ 优先使用标准库和成熟框架
✅ 避免使用实验性特性
```

**禁止行为**:
```
❌ 自行修改编码规范要求
❌ 引入未经验证的新技术
❌ 使用不稳定的实验性API
❌ 忽视项目约定自行其是
```

---

### 7. 创新进取 - 应用最佳实践,持续改进

**内涵**:
- 应用行业最佳实践和设计模式
- 采用现代化的技术方案
- 生成高质量、可维护的代码
- 遵循SOLID原则和DRY原则

**实践**:
```
✅ 使用Java 21现代特性(Record、Virtual Threads)
✅ 前端使用TypeScript强类型
✅ 数据库设计遵循范式要求
✅ API设计遵循RESTful规范
✅ 代码遵循SOLID和DRY原则
```

**应用案例**:
- 使用Record类定义DTO/VO
- 使用Virtual Threads优化I/O密集场景
- 使用pnpm管理前端依赖
- 使用CSS Modules实现样式隔离
- 使用TanStack Query管理数据请求

**技术选型原则**:
```
1. 优先使用项目已采用的技术
2. 选择成熟稳定的主流方案
3. 考虑团队技术栈的一致性
4. 评估长期维护成本
5. 遵循项目架构约束
```

---

## 实践指南

### 生成代码时的检查清单

**1. 代码质量检查**:
```
□ 代码可编译,语法正确
□ 遵守所有编码规范
□ 类型定义完整准确
□ 变量命名规范统一
```

**2. 功能完整性检查**:
```
□ 实现了完整的业务逻辑
□ 处理了所有边界条件
□ 添加了必要的参数校验
□ 实现了完整的异常处理
```

**3. 代码规范检查**:
```
□ VO类型使用String而非BigDecimal/Long
□ 分页查询返回PageResult而非Result<PageResult>
□ 使用CollectionUtils.isEmpty()判空
□ 枚举类以Enum结尾
□ 使用ThreadPoolExecutor而非Executors
```

**4. 前端代码检查**:
```
□ 使用pnpm而非npm/yarn
□ 使用TypeScript,避免any类型
□ 使用CSS Modules而非全局样式
□ 使用函数组件+Hooks
```

**5. 数据库设计检查**:
```
□ 包含必备字段(id、create_time、update_time、is_deleted)
□ 金额字段使用DECIMAL类型
□ 时间字段使用DATETIME类型
□ 字段添加NOT NULL约束和默认值
```

---

## 禁止的行为

### 代码质量方面

**❌ 绝对禁止**:
```
- 生成无法编译的代码
- 违反编码规范要求
- 使用any类型而不是具体类型
- 忽略边界条件和异常处理
- 提供不完整的解决方案
```

**❌ 规范违背**:
```
- 使用Result<PageResult<T>>嵌套
- VO类型使用BigDecimal/Long/LocalDateTime
- 使用npm/yarn而非pnpm
- 使用SELECT *查询
- 使用Executors创建线程池
```

**❌ 架构违背**:
```
- 引入未经规范的新技术
- 使用不稳定的实验性API
- 自行修改项目约定
- 忽视项目架构约束
```

---

## 核心原则总结

七大核心原则指导AI辅助开发:

1. **诚实守信** - 生成可靠、准确的代码
2. **精益求精** - 追求优雅、高质量的实现
3. **勤勉尽责** - 完整解决问题,不留隐患
4. **严谨细致** - 考虑边界,处理异常
5. **持之以恒** - 系统性解决,保持一致
6. **谦虚谨慎** - 遵守规范,审慎决策
7. **创新进取** - 应用最佳实践,持续改进

---

**最后更新**: 2025-10-01
**维护者**: kk
